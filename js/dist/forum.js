module.exports=function(o){var n={};function t(r){if(n[r])return n[r].exports;var e=n[r]={i:r,l:!1,exports:{}};return o[r].call(e.exports,e,e.exports,t),e.l=!0,e.exports}return t.m=o,t.c=n,t.d=function(o,n,r){t.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:r})},t.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},t.t=function(o,n){if(1&n&&(o=t(o)),8&n)return o;if(4&n&&"object"==typeof o&&o&&o.__esModule)return o;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:o}),2&n&&"string"!=typeof o)for(var e in o)t.d(r,e,function(n){return o[n]}.bind(null,e));return r},t.n=function(o){var n=o&&o.__esModule?function(){return o.default}:function(){return o};return t.d(n,"a",n),n},t.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},t.p="",t(t.s=11)}([,function(o,n){o.exports=flarum.core.compat["forum/app"]},function(o,n){o.exports=flarum.core.compat["common/components/Button"]},function(o,n){o.exports=flarum.core.compat["common/extend"]},function(o,n){o.exports=flarum.core.compat["common/Model"]},function(o,n){o.exports=flarum.core.compat["common/models/User"]},function(o,n){o.exports=flarum.core.compat["forum/components/SettingsPage"]},function(o,n){o.exports=flarum.core.compat["forum/components/UserCard"]},function(o,n){o.exports=flarum.core.compat["common/components/Modal"]},function(o,n){o.exports=flarum.core.compat["common/utils/Stream"]},function(o,n){o.exports=flarum.core.compat["common/helpers/icon"]},function(o,n,t){"use strict";t.r(n);var r=t(1),e=t.n(r),a=t(3),u=t(4),s=t.n(u),c=t(5),i=t.n(c),p=t(6),l=t.n(p),f=t(2),d=t.n(f),h=t(7),b=t.n(h);function y(o,n){return(y=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o})(o,n)}var g=t(8),x=t.n(g),v=t(9),_=t.n(v),O=function(o){var n,t;function r(){return o.apply(this,arguments)||this}t=o,(n=r).prototype=Object.create(t.prototype),n.prototype.constructor=n,y(n,t);var e=r.prototype;return e.oninit=function(n){o.prototype.oninit.call(this,n),this.pronouns=_()(app.session.user.pronouns())},e.className=function(){return"PronounsModal Modal--small"},e.title=function(){return app.translator.trans("datlechin-pronouns.forum.change_pronouns.title")},e.content=function(){return m("div",{className:"Modal-body"},m("div",{className:"Form Form--centered"},m("div",{className:"Form-group"},m("input",{type:"text",autocomplete:"off",name:"pronouns",className:"FormControl",bidi:this.pronouns,disabled:this.loading})),m("p",{class:"helpText"},app.translator.trans("datlechin-pronouns.forum.change_pronouns.help",{a:m("a",{href:"https://www.mypronouns.org/what-and-why",target:"_blank"})})),m("div",{className:"Form-group"},d.a.component({className:"Button Button--primary Button--block",type:"submit",loading:this.loading},app.translator.trans("datlechin-pronouns.forum.change_pronouns.submit_button")))))},e.onsubmit=function(o){var n=this;o.preventDefault(),this.pronouns()!==app.session.user.pronouns()?(this.loading=!0,app.session.user.save({pronouns:this.pronouns()},{errorHandler:this.onerror.bind(this)}).then(this.hide.bind(this)).catch((function(){n.loading=!1,m.redraw()}))):this.hide()},r}(x.a),j=t(10),P=t.n(j);e.a.initializers.add("datlechin/flarum-pronouns",(function(){i.a.prototype.pronouns=s.a.attribute("pronouns"),Object(a.extend)(l.a.prototype,"accountItems",(function(o){o.add("changePronouns",m(d.a,{className:"Button",onclick:function(){return e.a.modal.show(O)}},e.a.translator.trans("datlechin-pronouns.forum.settings.change_pronouns_button")))})),Object(a.extend)(b.a.prototype,"infoItems",(function(o){var n=this.attrs.user.pronouns();if(null!=n&&""!==n){var t=e.a.forum.attribute("pronounsPrefix"),r=e.a.forum.attribute("pronounsIcon");o.add("pronouns",m("span",{className:"UserCard-personalPronouns"},r?P()("fas fa-chess-queen"):t,n),10)}}))}))}]);
//# sourceMappingURL=forum.js.map